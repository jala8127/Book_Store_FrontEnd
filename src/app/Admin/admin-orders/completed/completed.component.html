<div class="completed-wrapper">
  <h3 class="title">Completed Orders</h3>

  <div *ngIf="orders.length > 0; else noCompleted">
    <div *ngFor="let order of orders" class="order-card">

      <!-- Status badge -->
      <span class="status-badge success">
        {{ order.status }}
      </span>

      <div class="order-body">
        <div class="order-columns">
          <!-- Column 1: Customer Info -->
          <div class="order-col">
            <p><strong>Order ID:</strong> {{ order.id }}</p>
            <p><strong>Customer:</strong> {{ order.customerName }}</p>
            <p><strong>Email:</strong> {{ order.user.email }}</p>
            <p><strong>Phone:</strong> {{ order.phone }}</p>
            <p *ngIf="order.orderDate"><strong>Placed on:</strong> {{ order.orderDate | date:'medium' }}</p>
          </div>

          <!-- Middle Column -->
          <div class="order-col">
            <p><strong>Books Ordered:</strong></p>
            <ul>
              <li *ngFor="let book of order.bookList">{{ book }}</li>
            </ul>
          </div>

          <!-- Column 2: Payment & Address -->
          <div class="order-col">
            <p><strong>Total:</strong> â‚¹{{ order.totalAmount }}</p>
            <p><strong>Payment:</strong> {{ order.paymentMethod }}</p>
            <p><strong>Address:</strong> {{ order.address }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noCompleted>
    <p class="no-orders">No completed orders found.</p>
  </ng-template>
</div>